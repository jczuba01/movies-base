<div class="container mt-4">
  <div class="card">
    <div class="card-body">
      <h1 class="card-title"><%= "#{@actor.first_name} #{@actor.last_name}" %></h1>
      
      <div class="row">
        <div class="col-md-6">
          <p><strong>Birth date:</strong> <%= @actor.birth_date %></p>
        </div>
      </div>
    </div>
    
    <div class="card-footer">
      <%= link_to "Back", actors_path, class: "btn btn-secondary" %>
      <%= link_to "Edit", edit_actor_path(@actor), class: "btn btn-warning" %>
    </div>
  </div>

  <div class="card mt-4">
    <div class="card-body">
      <h3 class="card-title">Movies</h3>
      
      <% if @actor.roles.any? %>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Movie</th>
            <th>Character Name</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @actor.roles.each do |role| %>
            <tr>
              <td><%= link_to role.movie.title, movie_path(role.movie) %></td>
              <td><%= role.character_name %></td>
              <td class="d-flex gap-2">
                <%= link_to "Edit", edit_actor_role_path(@actor, role), class: "btn btn-warning btn-sm" %>
                <%= button_to "Delete", actor_role_path(@actor, role), 
                    method: :delete, 
                    form: { data: { turbo_confirm: "Are you sure?" } }, 
                    class: "btn btn-danger btn-sm" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <p>This actor hasn't appeared in any movies yet.</p>
    <% end %>
      
      <div class="mt-3">
        <%= link_to "Add Movie Role", new_actor_role_path(@actor), class: "btn btn-success" %>
      </div>
    </div>
  </div>
</div>